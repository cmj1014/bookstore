(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e7edda6"],{"079a":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container"},[t("van-nav-bar",{attrs:{title:"个人信息","left-arrow":""},on:{"click-left":e.onClickLeft}}),t("div",{staticClass:"content"},[t("van-cell-group",[t("van-field",{attrs:{required:"",clearable:"",label:"昵称",placeholder:"请输入昵称","error-message":e.usernameState},model:{value:e.username,callback:function(a){e.username=a},expression:"username"}}),t("van-field",{attrs:{required:"",clearable:"",label:"年龄",placeholder:"请输入年龄","error-message":e.usernameState},model:{value:e.age,callback:function(a){e.age=a},expression:"age"}}),t("van-field",{attrs:{required:"",clearable:"",label:"手机号",placeholder:"请输入手机号","error-message":e.usernameState},model:{value:e.tel,callback:function(a){e.tel=a},expression:"tel"}}),t("van-field",{attrs:{required:"",clearable:"",label:"性别",placeholder:"请输入性别","error-message":e.usernameState},model:{value:e.sex,callback:function(a){e.sex=a},expression:"sex"}}),t("van-field",{attrs:{required:"",clearable:"",label:"城市",placeholder:"请输入城市","error-message":e.usernameState},model:{value:e.city,callback:function(a){e.city=a},expression:"city"}})],1),t("van-button",{attrs:{type:"primary",size:"normal",block:!0},on:{click:e.login}},[e._v("保存信息")])],1)],1)},n=[],s=(t("a481"),t("e17f"),t("2241")),i=(t("e7e5"),t("d399")),c=(t("66b9"),t("b650")),l=(t("c194"),t("7744")),o=(t("0653"),t("34e9")),u=(t("be7f"),t("565f")),d=(t("5246"),t("6b41")),h=t("2b0e");h["a"].use(d["a"]),h["a"].use(u["a"]),h["a"].use(l["a"]).use(o["a"]),h["a"].use(c["a"]),h["a"].use(i["a"]),h["a"].use(s["a"]);var f={data:function(){return{username:"",age:"",tel:"",sex:"",city:""}},computed:{usernameState:function(){return""===this.username?"":/^1[3456789]\d{9}$/.test(this.username)?"":"手机号码格式错误"},usernameIcon:function(){return""===this.username?"":/^1[3456789]\d{9}$/.test(this.username)?"checked":""},passwordState:function(){return""===this.password?"":this.password.length<5?"密码格式错误":""},passwordIcon:function(){return""===this.password?"":this.password.length>=5?"checked":""}},methods:{onClickLeft:function(){this.$router.back()},onClickRight:function(){this.$router.replace("/register")},login:function(){var e=this;return"checked"!==this.usernameIcon?(Object(i["a"])("手机号格式错误"),null):"checked"!==this.passwordIcon?(Object(i["a"])("密码格式错误"),null):this.sms!==this.code?(Object(i["a"])("验证码错误"),null):void fetch("/api/users/login",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"username="+this.username+"&password="+this.password}).then(function(e){return e.json()}).then(function(a){1===a?(Object(i["a"])("登录成功"),e.$store.commit("changeLoginState","ok"),e.$store.commit("saveUser",e.username),e.$router.back()):2===a?s["a"].confirm({title:"提示",message:"该用户还未注册，是否注册"}).then(function(){e.$router.push("/register")}).catch(function(){}):-1===a?Object(i["a"])("密码错误"):Object(i["a"])("登录失败")})}}},v=f,m=t("2877"),p=Object(m["a"])(v,r,n,!1,null,null,null);a["default"]=p.exports},a481:function(e,a,t){"use strict";var r=t("cb7c"),n=t("4bf8"),s=t("9def"),i=t("4588"),c=t("0390"),l=t("5f1b"),o=Math.max,u=Math.min,d=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,v=function(e){return void 0===e?e:String(e)};t("214f")("replace",2,function(e,a,t,m){return[function(r,n){var s=e(this),i=void 0==r?void 0:r[a];return void 0!==i?i.call(r,s,n):t.call(String(s),r,n)},function(e,a){var n=m(t,e,this,a);if(n.done)return n.value;var d=r(e),h=String(this),f="function"===typeof a;f||(a=String(a));var b=d.global;if(b){var g=d.unicode;d.lastIndex=0}var k=[];while(1){var w=l(d,h);if(null===w)break;if(k.push(w),!b)break;var x=String(w[0]);""===x&&(d.lastIndex=c(h,s(d.lastIndex),g))}for(var S="",$=0,y=0;y<k.length;y++){w=k[y];for(var j=String(w[0]),I=o(u(i(w.index),h.length),0),O=[],C=1;C<w.length;C++)O.push(v(w[C]));var q=w.groups;if(f){var A=[j].concat(O,I,h);void 0!==q&&A.push(q);var L=String(a.apply(void 0,A))}else L=p(j,h,I,O,q,a);I>=$&&(S+=h.slice($,I)+L,$=I+j.length)}return S+h.slice($)}];function p(e,a,r,s,i,c){var l=r+e.length,o=s.length,u=f;return void 0!==i&&(i=n(i),u=h),t.call(c,u,function(t,n){var c;switch(n.charAt(0)){case"$":return"$";case"&":return e;case"`":return a.slice(0,r);case"'":return a.slice(l);case"<":c=i[n.slice(1,-1)];break;default:var u=+n;if(0===u)return t;if(u>o){var h=d(u/10);return 0===h?t:h<=o?void 0===s[h-1]?n.charAt(1):s[h-1]+n.charAt(1):t}c=s[u-1]}return void 0===c?"":c})}})}}]);
//# sourceMappingURL=chunk-2e7edda6.7cb67ee2.js.map