(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-743bb3c9"],{"022e":function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("2b0e"),s=i("1325"),a=i("5fbe"),o=n["a"].extend({mixins:[Object(a["a"])(function(t,e){this.onPopstate(e)})],props:{closeOnPopstate:Boolean},data:function(){return{bindStatus:!1}},watch:{closeOnPopstate:function(t){this.onPopstate(t)}},methods:{onPopstate:function(t){if(!this.$isServer&&this.bindStatus!==t){this.bindStatus=t;var e=t?s["b"]:s["a"];e(window,"popstate",this.close)}}}})},1175:function(t,e,i){},"11e9":function(t,e,i){var n=i("52a7"),s=i("4630"),a=i("6821"),o=i("6a99"),r=i("69a8"),u=i("c69a"),c=Object.getOwnPropertyDescriptor;e.f=i("9e1e")?c:function(t,e){if(t=a(t),e=o(e,!0),u)try{return c(t,e)}catch(i){}if(r(t,e))return s(!n.f.call(t,e),t[e])}},"28a2":function(t,e,i){"use strict";var n=i("c31d"),s=i("2b0e"),a=i("2638"),o=i.n(a),r=i("d282"),u=i("482d"),c=i("1325"),l=i("6605"),h=i("3875"),d=i("022e"),f=i("5596"),p=i("2bb1"),m=Object(r["a"])("image-preview"),v=m[0],g=m[1];function b(t){return Math.sqrt(Math.abs((t[0].clientX-t[1].clientX)*(t[0].clientY-t[1].clientY)))}var k,S=v({mixins:[l["a"],h["a"],d["a"]],props:{className:null,lazyLoad:Boolean,asyncClose:Boolean,showIndicators:Boolean,images:{type:Array,default:function(){return[]}},loop:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},showIndex:{type:Boolean,default:!0},startPosition:{type:Number,default:0},minZoom:{type:Number,default:1/3},maxZoom:{type:Number,default:3},overlayClass:{type:String,default:g("overlay")},closeOnClickOverlay:{type:Boolean,default:!0}},data:function(){return this.bindStatus=!1,{scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,active:0,doubleClickTimer:null}},computed:{imageStyle:function(){var t=this.scale,e={transition:this.zooming||this.moving?"":".3s all"};return 1!==t&&(e.transform="scale3d("+t+", "+t+", 1) translate("+this.moveX/t+"px, "+this.moveY/t+"px)"),e}},watch:{value:function(){this.active=this.startPosition},startPosition:function(t){this.active=t}},methods:{onWrapperTouchStart:function(){this.touchStartTime=new Date},onWrapperTouchEnd:function(t){var e=this;Object(c["c"])(t);var i=new Date-this.touchStartTime,n=this.$refs.swipe||{},s=n.offsetX,a=void 0===s?0:s,o=n.offsetY,r=void 0===o?0:o;i<300&&a<10&&r<10&&(this.doubleClickTimer?(clearTimeout(this.doubleClickTimer),this.doubleClickTimer=null,this.toggleScale()):this.doubleClickTimer=setTimeout(function(){var t=e.active;e.resetScale(),e.$emit("close",{index:t,url:e.images[t]}),e.asyncClose||e.$emit("input",!1),e.doubleClickTimer=null},300))},startMove:function(t){var e=t.currentTarget,i=e.getBoundingClientRect(),n=window.innerWidth,s=window.innerHeight;this.touchStart(t),this.moving=!0,this.startMoveX=this.moveX,this.startMoveY=this.moveY,this.maxMoveX=Math.max(0,(i.width-n)/2),this.maxMoveY=Math.max(0,(i.height-s)/2)},startZoom:function(t){this.moving=!1,this.zooming=!0,this.startScale=this.scale,this.startDistance=b(t.touches)},onImageTouchStart:function(t){var e=t.touches,i=this.$refs.swipe||{},n=i.offsetX,s=void 0===n?0:n;1===e.length&&1!==this.scale?this.startMove(t):2!==e.length||s||this.startZoom(t)},onImageTouchMove:function(t){var e=t.touches;if((this.moving||this.zooming)&&Object(c["c"])(t,!0),this.moving){this.touchMove(t);var i=this.deltaX+this.startMoveX,n=this.deltaY+this.startMoveY;this.moveX=Object(u["a"])(i,-this.maxMoveX,this.maxMoveX),this.moveY=Object(u["a"])(n,-this.maxMoveY,this.maxMoveY)}if(this.zooming&&2===e.length){var s=b(e),a=this.startScale*s/this.startDistance;this.scale=Object(u["a"])(a,this.minZoom,this.maxZoom)}},onImageTouchEnd:function(t){if(this.moving||this.zooming){var e=!0;this.moving&&this.startMoveX===this.moveX&&this.startMoveY===this.moveY&&(e=!1),t.touches.length||(this.moving=!1,this.zooming=!1,this.startMoveX=0,this.startMoveY=0,this.startScale=1,this.scale<1&&this.resetScale()),e&&Object(c["c"])(t,!0)}},onSwipeChange:function(t){this.resetScale(),this.active=t,this.$emit("change",t)},resetScale:function(){this.scale=1,this.moveX=0,this.moveY=0},toggleScale:function(){var t=this.scale>1?1:2;this.scale=t,this.moveX=0,this.moveY=0}},render:function(t){var e=this;if(this.value){var i=this.active,n=this.images,s=this.showIndex&&t("div",{class:g("index")},[this.slots("index")||i+1+"/"+n.length]),a=t(f["a"],{ref:"swipe",attrs:{loop:this.loop,indicatorColor:"white",initialSwipe:this.startPosition,showIndicators:this.showIndicators},on:{change:this.onSwipeChange}},[n.map(function(n,s){var a={class:g("image"),style:s===i?e.imageStyle:null,on:{touchstart:e.onImageTouchStart,touchmove:e.onImageTouchMove,touchend:e.onImageTouchEnd,touchcancel:e.onImageTouchEnd}};return t(p["a"],[e.lazyLoad?t("img",o()([{directives:[{name:"lazy",value:n}]},a])):t("img",o()([{attrs:{src:n}},a]))])})]);return t("transition",{attrs:{name:"van-fade"}},[t("div",{class:[g(),this.className],on:{touchstart:this.onWrapperTouchStart,touchMove:c["c"],touchend:this.onWrapperTouchEnd,touchcancel:this.onWrapperTouchEnd}},[s,a])])}}}),y=i("a142"),x={images:[],loop:!0,value:!0,minZoom:1/3,maxZoom:3,className:"",lazyLoad:!1,showIndex:!0,asyncClose:!1,startPosition:0,showIndicators:!1,closeOnPopstate:!1},C=function(){k=new(s["a"].extend(S))({el:document.createElement("div")}),document.body.appendChild(k.$el),k.$on("change",function(t){k.onChange&&k.onChange(t)})},O=function(t,e){if(void 0===e&&(e=0),!y["d"]){k||C();var i=Array.isArray(t)?{images:t,startPosition:e}:t;return Object(n["a"])(k,x,i),k.$once("input",function(t){k.value=t}),i.onClose&&k.$once("close",i.onClose),k}};O.install=function(){s["a"].use(S)};e["a"]=O},"34e9":function(t,e,i){"use strict";var n=i("2638"),s=i.n(n),a=i("d282"),o=i("ba31"),r=Object(a["a"])("cell-group"),u=r[0],c=r[1];function l(t,e,i,n){var a=t("div",s()([{class:[c(),{"van-hairline--top-bottom":e.border}]},Object(o["b"])(n,!0)]),[i.default&&i.default()]);return e.title?t("div",[t("div",{class:c("title")},[e.title]),a]):a}l.props={title:String,border:{type:Boolean,default:!0}},e["a"]=u(l)},"454f":function(t,e,i){i("46a7");var n=i("584a").Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},"456d":function(t,e,i){var n=i("4bf8"),s=i("0d58");i("5eda")("keys",function(){return function(t){return s(n(t))}})},4662:function(t,e,i){"use strict";i("68ef"),i("4d75"),i("8270"),i("786d"),i("504b")},"46a7":function(t,e,i){var n=i("63b6");n(n.S+n.F*!i("8e60"),"Object",{defineProperty:i("d9f6").f})},"4cf9":function(t,e,i){},"4d48":function(t,e,i){"use strict";i("68ef"),i("bf60")},"4d75":function(t,e,i){},"504b":function(t,e,i){},5246:function(t,e,i){"use strict";i("68ef"),i("09fe"),i("8a0b")},"5eda":function(t,e,i){var n=i("5ca1"),s=i("8378"),a=i("79e5");t.exports=function(t,e){var i=(s.Object||{})[t]||Object[t],o={};o[t]=e(i),n(n.S+n.F*a(function(){i(1)}),"Object",o)}},"63e7":function(t,e,i){"use strict";var n=i("9c95"),s=i.n(n);s.a},6605:function(t,e,i){"use strict";var n={zIndex:2e3,lockCount:0,stack:[],get top(){return this.stack[this.stack.length-1]}},s=i("3875"),a=i("2b0e");function o(t){return"string"===typeof t?document.querySelector(t):t()}function r(t){var e=t.afterPortal;return a["a"].extend({props:{getContainer:[String,Function]},watch:{getContainer:function(){this.portal()}},mounted:function(){this.getContainer&&this.portal()},methods:{portal:function(){var t,i=this.getContainer;i?t=o(i):this.$parent&&(t=this.$parent.$el),t&&t!==this.$el.parentNode&&t.appendChild(this.$el),e&&e.call(this)}}})}var u=i("1325"),c=i("c31d"),l=i("2638"),h=i.n(l),d=i("d282"),f=i("a142"),p=i("ba31"),m=Object(d["a"])("overlay"),v=m[0],g=m[1];function b(t){Object(u["c"])(t,!0)}function k(t,e,i,n){var s=Object(c["a"])({zIndex:e.zIndex},e.customStyle);return Object(f["b"])(e.duration)&&(s.animationDuration=e.duration+"s"),t("transition",{attrs:{name:"van-fade"}},[t("div",h()([{directives:[{name:"show",value:e.show}],style:s,class:[g(),e.className],on:{touchmove:b}},Object(p["b"])(n,!0)]))])}k.props={show:Boolean,duration:[Number,String],className:null,customStyle:null,zIndex:{type:[Number,String],default:1}};var S,y=v(k),x={className:"",customStyle:{}};function C(){if(n.top){var t=n.top.vm;t.$emit("click-overlay"),t.closeOnClickOverlay&&(t.onClickOverlay?t.onClickOverlay():t.close())}}function O(){if(S||(S=Object(p["c"])(y,{on:{click:C}})),n.top){var t=n.top,e=t.vm,i=t.config,s=e.$el;s&&s.parentNode?s.parentNode.insertBefore(S.$el,s):document.body.appendChild(S.$el),Object(c["a"])(S,x,i,{show:!0})}else S.show=!1}function w(t,e){n.stack.some(function(e){return e.vm===t})||(n.stack.push({vm:t,config:e}),O())}function T(t){var e=n.stack;e.length&&(n.top.vm===t?(e.pop(),O()):n.stack=e.filter(function(e){return e.vm!==t}))}var j=i("a8c1");i.d(e,"a",function(){return F});var F={mixins:[s["a"],r({afterPortal:function(){this.overlay&&O()}})],props:{value:Boolean,overlay:Boolean,overlayStyle:Object,overlayClass:String,closeOnClickOverlay:Boolean,zIndex:[Number,String],lockScroll:{type:Boolean,default:!0},lazyRender:{type:Boolean,default:!0}},data:function(){return{inited:this.value}},computed:{shouldRender:function(){return this.inited||!this.lazyRender}},watch:{value:function(t){var e=t?"open":"close";this.inited=this.inited||this.value,this[e](),this.$emit(e)},overlay:function(){this.renderOverlay()}},mounted:function(){this.value&&this.open()},activated:function(){this.value&&this.open()},beforeDestroy:function(){this.close(),this.getContainer&&this.$parent&&this.$parent.$el&&this.$parent.$el.appendChild(this.$el)},deactivated:function(){this.close()},methods:{open:function(){this.$isServer||this.opened||(void 0!==this.zIndex&&(n.zIndex=this.zIndex),this.opened=!0,this.renderOverlay(),this.lockScroll&&(Object(u["b"])(document,"touchstart",this.touchStart),Object(u["b"])(document,"touchmove",this.onTouchMove),n.lockCount||document.body.classList.add("van-overflow-hidden"),n.lockCount++))},close:function(){this.opened&&(this.lockScroll&&(n.lockCount--,Object(u["a"])(document,"touchstart",this.touchStart),Object(u["a"])(document,"touchmove",this.onTouchMove),n.lockCount||document.body.classList.remove("van-overflow-hidden")),this.opened=!1,T(this),this.$emit("input",!1))},onTouchMove:function(t){this.touchMove(t);var e=this.deltaY>0?"10":"01",i=Object(j["c"])(t.target,this.$el),n=i.scrollHeight,s=i.offsetHeight,a=i.scrollTop,o="11";0===a?o=s>=n?"00":"01":a+s>=n&&(o="10"),"11"===o||"vertical"!==this.direction||parseInt(o,2)&parseInt(e,2)||Object(u["c"])(t,!0)},renderOverlay:function(){!this.$isServer&&this.value&&(this.overlay?w(this,{zIndex:n.zIndex++,duration:this.duration,className:this.overlayClass,customStyle:this.overlayStyle}):T(this),this.updateZIndex())},updateZIndex:function(){var t=this;this.$nextTick(function(){t.$el.style.zIndex=n.zIndex++})}}}},"6b41":function(t,e,i){"use strict";var n=i("2638"),s=i.n(n),a=i("d282"),o=i("a142"),r=i("ba31"),u=i("ad06"),c=Object(a["a"])("nav-bar"),l=c[0],h=c[1];function d(t,e,i,n){return t("div",s()([{class:[h({fixed:e.fixed}),{"van-hairline--bottom":e.border}],style:{zIndex:e.zIndex}},Object(r["b"])(n)]),[t("div",{class:h("left"),on:{click:n.listeners["click-left"]||o["e"]}},[i.left?i.left():[e.leftArrow&&t(u["a"],{class:h("arrow"),attrs:{name:"arrow-left"}}),e.leftText&&t("span",{class:h("text")},[e.leftText])]]),t("div",{class:[h("title"),"van-ellipsis"]},[i.title?i.title():e.title]),t("div",{class:h("right"),on:{click:n.listeners["click-right"]||o["e"]}},[i.right?i.right():e.rightText&&t("span",{class:h("text")},[e.rightText])])])}d.props={title:String,fixed:Boolean,leftText:String,rightText:String,leftArrow:Boolean,border:{type:Boolean,default:!0},zIndex:{type:Number,default:1}},e["a"]=l(d)},"7b0a":function(t,e,i){},"80ee":function(t,e,i){},"81e6":function(t,e,i){"use strict";i("68ef"),i("7b0a")},8248:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box"},[i("div",{staticClass:"container"},[i("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","right-text":"","left-arrow":""},on:{"click-left":t.back,"click-right":t.share}}),i("div",{staticClass:"content"},[i("div",{staticClass:"bookCover"},[i("div",{staticClass:"master"},[i("img",{attrs:{src:t.img,alt:""}})])]),i("div",{staticClass:"content_item"},[i("p",[t._v(t._s(t.title))]),i("div",{staticClass:"introduction"},[t._v("\n            "+t._s(t.intro)+"\n          ")]),i("div",{staticClass:"pri"},[i("div",{staticClass:"pri_1"},[t._v(" "+t._s(t.money)+" ")]),i("div",{staticClass:"sales"},[t._v("月销量 :  50本")])])]),i("div",{staticClass:"empty"}),i("van-row",[i("van-col",{attrs:{span:"24"}},[t._v(t._s(t.writer))]),i("van-col",{attrs:{span:"24"}},[t._v(t._s(t.publishingouse))]),i("van-col",{attrs:{span:"24"}},[t._v(t._s(t.time))]),i("van-col",{attrs:{span:"24"}},[t._v("分类: "+t._s(t.kind)+" ")])],1),i("div",{staticClass:"explain"},[i("van-row",[i("van-col",{attrs:{span:"8"}},[i("van-icon",{attrs:{name:"passed"}}),i("span",[t._v("  正版好图书")])],1),i("van-col",{attrs:{span:"8"}},[i("van-icon",{attrs:{name:"passed"}}),i("span",[t._v("  满69包邮")])],1),i("van-col",{attrs:{span:"8"}},[i("van-icon",{attrs:{name:"passed"}}),i("span",[t._v("  特价1折起")])],1)],1)],1),t._m(0),i("div",{staticClass:"empty"}),t._m(1),i("div",{staticClass:"empty"}),i("div",{staticClass:"detail_tip"},[i("p",{staticClass:"detail_p"},[t._v("图文详情")]),i("div",{staticClass:"detail_content"},[i("h5",[t._v("内容简介:")]),i("p",[t._v(t._s(t.intro))])])]),i("h4",{staticClass:"five"},[t._v("本类五星书籍")]),i("div",{staticClass:"detail_item"},[i("Detaillist",{attrs:{detaillist:t.detaillist}})],1),i("div",{staticClass:"empty"}),i("div",{staticClass:"empty"}),i("div",{staticClass:"empty"}),i("div",{staticClass:"empty"})],1)],1),i("van-goods-action",[i("van-goods-action-icon",{attrs:{icon:"chat-o",text:"客服"},on:{click:t.chat}}),i("van-goods-action-icon",{attrs:{info:"5",icon:"cart-o",text:"购物车"},on:{click:t.goCart}}),i("van-goods-action-icon",{attrs:{icon:"shop-o",text:"店铺"},on:{click:t.goShop}}),i("van-goods-action-button",{attrs:{type:"warning",text:"加入购物车"},on:{click:t.addCart}}),i("van-goods-action-button",{attrs:{type:"danger",text:"立即购买"},on:{click:t.buy}})],1)],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"reminder"},[i("p",[t._v("温馨提示：5折以下图书主要为出版社尾货，大部分为全新，个别图书品相8.9成新、切口有划线标记、光盘等附件不全")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"adphoto"},[i("img",{attrs:{src:"http://image31.bookschina.com/pro-images/190717wz/700185.jpg?id=1",alt:""}})])}],a=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),o=(i("4662"),i("28a2")),r=(i("e7e5"),i("d399")),u=(i("c3a6"),i("ad06")),c=(i("4d48"),i("d1e1")),l=(i("81e6"),i("9ffb")),h=(i("68ef"),i("f319"),i("d282")),d=i("9884"),f=Object(h["a"])("tab"),p=f[0],m=f[1],v=p({mixins:[Object(d["a"])("vanTabs")],props:{name:[Number,String],title:String,disabled:Boolean},data:function(){return{inited:!1}},computed:{computedName:function(){return this.name||this.index},isActive:function(){return this.computedName===this.parent.currentName}},watch:{"parent.currentIndex":function(){this.inited=this.inited||this.isActive},title:function(){this.parent.setLine()}},mounted:function(){this.slots("title")&&this.parent.renderTitle(this.$refs.title,this.index)},render:function(t){var e=this.slots,i=this.isActive,n=this.inited||!this.parent.lazyRender,s=[n?e():t()];return e("title")&&s.push(t("div",{ref:"title"},[e("title")])),this.parent.animated?t("div",{attrs:{role:"tabpanel","aria-hidden":!i},class:m("pane-wrapper",{inactive:!i})},[t("div",{class:m("pane")},[s])]):t("div",{directives:[{name:"show",value:i}],attrs:{role:"tabpanel"},class:m("pane")},[s])}}),g=(i("b807"),i("a142")),b=i("ea8e"),k=i("4598");function S(t,e,i){var n=0,s=t.scrollLeft,a=0===i?1:Math.round(1e3*i/16);function o(){t.scrollLeft+=(e-s)/a,++n<a&&Object(k["b"])(o)}o()}var y=i("1325"),x=i("5fbe"),C=i("a8c1"),O=Object(h["a"])("tab")[1],w={props:{type:String,color:String,title:String,isActive:Boolean,ellipsis:Boolean,disabled:Boolean,scrollable:Boolean,activeColor:String,inactiveColor:String,swipeThreshold:Number},computed:{style:function(){var t={},e=this.color,i=this.isActive,n="card"===this.type;e&&n&&(t.borderColor=e,this.disabled||(i?t.backgroundColor=e:t.color=e));var s=i?this.activeColor:this.inactiveColor;return s&&(t.color=s),this.scrollable&&this.ellipsis&&(t.flexBasis=88/this.swipeThreshold+"%"),t}},methods:{onClick:function(){this.$emit("click")},renderTitle:function(t){var e=this.$refs.title;e.innerHTML="",e.appendChild(t)}},render:function(t){return t("div",{attrs:{role:"tab","aria-selected":this.isActive},class:O({active:this.isActive,disabled:this.disabled,complete:!this.ellipsis}),style:this.style,on:{click:this.onClick}},[t("span",{ref:"title",class:{"van-ellipsis":this.ellipsis}},[this.title])])}},T=i("c31d"),j=i("3875"),F=Object(h["a"])("tabs"),$=F[0],I=F[1],N=50,B=$({mixins:[j["a"]],props:{count:Number,duration:Number,animated:Boolean,swipeable:Boolean,currentIndex:Number},computed:{style:function(){if(this.animated)return{transform:"translate3d("+-1*this.currentIndex*100+"%, 0, 0)",transitionDuration:this.duration+"s"}},listeners:function(){if(this.swipeable)return{touchstart:this.touchStart,touchmove:this.touchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}}},methods:{onTouchEnd:function(){var t=this.direction,e=this.deltaX,i=this.currentIndex;"horizontal"===t&&this.offsetX>=N&&(e>0&&0!==i?this.$emit("change",i-1):e<0&&i!==this.count-1&&this.$emit("change",i+1))},renderChildren:function(){var t=this.$createElement;return this.animated?t("div",{class:I("track"),style:this.style},[this.slots()]):this.slots()}},render:function(t){return t("div",{class:I("content",{animated:this.animated}),on:Object(T["a"])({},this.listeners)},[this.renderChildren()])}}),_=Object(h["a"])("tabs"),L=_[0],M=_[1],E=L({mixins:[Object(d["b"])("vanTabs"),Object(x["a"])(function(t,e){this.bindScrollEvent(e),t(window,"resize",this.setLine,!0)})],model:{prop:"active"},props:{color:String,sticky:Boolean,animated:Boolean,swipeable:Boolean,background:String,lineWidth:[Number,String],lineHeight:[Number,String],titleActiveColor:String,titleInactiveColor:String,type:{type:String,default:"line"},active:{type:[Number,String],default:0},border:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},duration:{type:Number,default:.3},offsetTop:{type:Number,default:0},lazyRender:{type:Boolean,default:!0},swipeThreshold:{type:Number,default:4}},data:function(){return this.scrollEvent=!1,{position:"",currentIndex:null,lineStyle:{backgroundColor:this.color}}},computed:{scrollable:function(){return this.children.length>this.swipeThreshold||!this.ellipsis},wrapStyle:function(){switch(this.position){case"top":return{top:this.offsetTop+"px",position:"fixed"};case"bottom":return{top:"auto",bottom:0};default:return null}},navStyle:function(){return{borderColor:this.color,background:this.background}},currentName:function(){var t=this.children[this.currentIndex];if(t)return t.computedName}},watch:{active:function(t){t!==this.currentName&&this.setCurrentIndexByName(t)},color:function(){this.setLine()},children:function(){this.setCurrentIndexByName(this.currentName||this.active),this.scrollIntoView(),this.setLine()},currentIndex:function(){this.scrollIntoView(),this.setLine(),"top"!==this.position&&"bottom"!==this.position||Object(C["e"])(Object(C["a"])(this.$el)-this.offsetTop)},sticky:function(t){this.bindScrollEvent(t)}},mounted:function(){this.onShow()},activated:function(){this.onShow(),this.setLine()},methods:{onShow:function(){var t=this;this.$nextTick(function(){t.inited=!0,t.scrollIntoView(!0)})},bindScrollEvent:function(t){var e=this.sticky&&t;this.scrollEvent!==e&&(this.scrollEvent=e,this.scrollEl=this.scrollEl||Object(C["c"])(this.$el),(e?y["b"]:y["a"])(this.scrollEl,"scroll",this.onScroll,!0),this.onScroll())},onScroll:function(){var t=Object(C["d"])(this.scrollEl)+this.offsetTop,e=Object(C["a"])(this.$el),i=e+this.$el.offsetHeight-this.$refs.wrap.offsetHeight;this.position=t>i?"bottom":t>e?"top":"";var n={scrollTop:t,isFixed:"top"===this.position};this.$emit("scroll",n)},setLine:function(){var t=this,e=this.inited;this.$nextTick(function(){var i=t.$refs.titles;if(i&&i[t.currentIndex]&&"line"===t.type){var n=i[t.currentIndex].$el,s=t.lineWidth,a=t.lineHeight,o=Object(g["b"])(s)?s:n.offsetWidth/2,r=n.offsetLeft+n.offsetWidth/2,u={width:Object(b["a"])(o),backgroundColor:t.color,transform:"translateX("+r+"px) translateX(-50%)"};if(e&&(u.transitionDuration=t.duration+"s"),Object(g["b"])(a)){var c=Object(b["a"])(a);u.height=c,u.borderRadius=c}t.lineStyle=u}})},setCurrentIndexByName:function(t){var e=this.children.filter(function(e){return e.computedName===t}),i=(this.children[0]||{}).index||0;this.setCurrentIndex(e.length?e[0].index:i)},setCurrentIndex:function(t){if(t=this.findAvailableTab(t),Object(g["b"])(t)&&t!==this.currentIndex){var e=null!==this.currentIndex;this.currentIndex=t,this.$emit("input",this.currentName),e&&this.$emit("change",this.currentName,this.children[t].title)}},findAvailableTab:function(t){var e=t<this.currentIndex?-1:1;while(t>=0&&t<this.children.length){if(!this.children[t].disabled)return t;t+=e}},onClick:function(t){var e=this.children[t],i=e.title,n=e.disabled,s=e.computedName;n?this.$emit("disabled",s,i):(this.setCurrentIndex(t),this.$emit("click",s,i))},scrollIntoView:function(t){var e=this.$refs.titles;if(this.scrollable&&e&&e[this.currentIndex]){var i=this.$refs.nav,n=e[this.currentIndex].$el,s=n.offsetLeft-(i.offsetWidth-n.offsetWidth)/2;S(i,s,t?0:this.duration)}},renderTitle:function(t,e){var i=this;this.$nextTick(function(){i.$refs.titles[e].renderTitle(t)})}},render:function(t){var e=this,i=this.type,n=this.ellipsis,s=this.animated,a=this.scrollable,o=this.children.map(function(s,o){return t(w,{ref:"titles",refInFor:!0,attrs:{type:i,title:s.title,color:e.color,isActive:o===e.currentIndex,ellipsis:n,disabled:s.disabled,scrollable:a,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,swipeThreshold:e.swipeThreshold},on:{click:function(){e.onClick(o)}}})});return t("div",{class:M([i])},[t("div",{ref:"wrap",style:this.wrapStyle,class:[M("wrap",{scrollable:a}),{"van-hairline--top-bottom":"line"===i&&this.border}]},[t("div",{ref:"nav",attrs:{role:"tablist"},class:M("nav",[i]),style:this.navStyle},[this.slots("nav-left"),o,"line"===i&&t("div",{class:M("line"),style:this.lineStyle}),this.slots("nav-right")])]),t(B,{attrs:{count:this.children.length,animated:s,duration:this.duration,swipeable:this.swipeable,currentIndex:this.currentIndex},on:{change:this.setCurrentIndex}},[this.slots()])])}}),D=(i("4d75"),i("09fe"),i("b258"),i("8270"),i("786d"),i("504b"),i("fb6c"),i("1146"),i("bcd3"),i("d10a"),i("2b0e")),z=i("6605"),A=Object(h["a"])("popup"),P=A[0],V=A[1],q=P({mixins:[z["a"]],props:{round:Boolean,duration:Number,transition:String,position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var t=this,e=function(e){return function(i){return t.$emit(e,i)}};this.onClick=e("click"),this.onOpened=e("opened"),this.onClosed=e("closed")},render:function(t){var e;if(this.shouldRender){var i=this.round,n=this.position,s=this.duration,a=this.transition||("center"===n?"van-fade":"van-popup-slide-"+n),o={};return Object(g["b"])(s)&&(o.transitionDuration=s+"s"),t("transition",{attrs:{name:a},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],style:o,class:V((e={round:i},e[n]=n,e)),on:{click:this.onClick}},[this.slots()])])}}}),R=i("2638"),X=i.n(R),U=i("ba31"),H=Object(h["a"])("sku-header"),Y=H[0],W=H[1];function K(t,e){var i=e.s1;if(i){var n=t.tree.filter(function(t){return"s1"===t.k_s})[0]||{};if(n.v){var s=n.v.filter(function(t){return t.id===i})[0];if(s)return s.imgUrl||s.img_url}}}function Z(t,e,i,n){var s=e.sku,a=e.goods,o=e.skuEventBus,r=e.selectedSku,c=K(s,r)||a.picture,l=function(){o.$emit("sku:previewImage",c)};return t("div",X()([{class:[W(),"van-hairline--bottom"]},Object(U["b"])(n)]),[t("div",{class:W("img-wrap"),on:{click:l}},[t("img",{attrs:{src:c}})]),t("div",{class:W("goods-info")},[t("div",{class:"van-sku__goods-name van-ellipsis"},[a.title]),i.default&&i.default(),t(u["a"],{attrs:{name:"close"},class:"van-sku__close-icon",on:{click:function(){o.$emit("sku:close")}}})])])}Z.props={sku:Object,goods:Object,skuEventBus:Object,selectedSku:Object};var G=Y(Z),Q=Object(h["a"])("sku-row"),J=Q[0],tt=Q[1];function et(t,e,i,n){return t("div",X()([{class:tt()},Object(U["b"])(n)]),[t("div",{class:tt("title")},[e.skuRow.k,"："]),i.default&&i.default()])}et.props={skuRow:Object};var it=J(et),nt={QUOTA_LIMIT:0,STOCK_LIMIT:1},st="",at={LIMIT_TYPE:nt,UNSELECTED_SKU_VALUE_ID:st},ot=function(t){var e={};return t.forEach(function(t){e[t.k_s]=t.v}),e},rt=function(t,e){var i=Object.keys(e).filter(function(t){return e[t]!==st});return t.length===i.length},ut=function(t,e){var i=t.filter(function(t){return Object.keys(e).every(function(i){return String(t[i])===String(e[i])})});return i[0]},ct=function(t,e){var i=ot(t);return Object.keys(e).reduce(function(t,n){var s=i[n],a=e[n];if(a!==st){var o=s.filter(function(t){return t.id===a})[0];o&&t.push(o)}return t},[])},lt=function(t,e,i){var n,s=i.key,a=i.valueId,o=Object(T["a"])({},e,(n={},n[s]=a,n)),r=Object.keys(o).filter(function(t){return o[t]!==st}),u=t.filter(function(t){return r.every(function(e){return String(o[e])===String(t[e])})}),c=u.reduce(function(t,e){return t+=e.stock_num,t},0);return c>0},ht={normalizeSkuTree:ot,getSkuComb:ut,getSelectedSkuValues:ct,isAllSelected:rt,isSkuChoosable:lt},dt=Object(h["a"])("sku-row-item"),ft=dt[0],pt=ft({props:{skuValue:Object,skuKeyStr:String,skuEventBus:Object,selectedSku:Object,skuList:{type:Array,default:function(){return[]}}},computed:{choosable:function(){return lt(this.skuList,this.selectedSku,{key:this.skuKeyStr,valueId:this.skuValue.id})}},methods:{onSelect:function(){this.choosable&&this.skuEventBus.$emit("sku:select",Object(T["a"])({},this.skuValue,{skuKeyStr:this.skuKeyStr}))}},render:function(t){var e=this.skuValue.id===this.selectedSku[this.skuKeyStr];return t("span",{class:["van-sku-row__item",{"van-sku-row__item--active":e,"van-sku-row__item--disabled":!this.choosable}],on:{click:this.onSelect}},[this.skuValue.name])}}),mt=i("32d7"),vt=Object(h["a"])("stepper"),gt=vt[0],bt=vt[1],kt=600,St=200,yt=gt({props:{value:null,integer:Boolean,disabled:Boolean,inputWidth:[Number,String],buttonSize:[Number,String],asyncChange:Boolean,disableInput:Boolean,min:{type:[Number,String],default:1},max:{type:[Number,String],default:1/0},step:{type:[Number,String],default:1},defaultValue:{type:[Number,String],default:1}},data:function(){var t=this.range(Object(g["b"])(this.value)?this.value:this.defaultValue);return t!==+this.value&&this.$emit("input",t),{currentValue:t}},computed:{minusDisabled:function(){return this.disabled||this.currentValue<=this.min},plusDisabled:function(){return this.disabled||this.currentValue>=this.max},inputStyle:function(){var t={};return this.inputWidth&&(t.width=Object(b["a"])(this.inputWidth)),this.buttonSize&&(t.height=Object(b["a"])(this.buttonSize)),t},buttonStyle:function(){var t={};if(this.buttonSize){var e=Object(b["a"])(this.buttonSize);t.width=e,t.height=e}return t}},watch:{value:function(t){t!==this.currentValue&&(this.currentValue=this.format(t))},currentValue:function(t){this.$emit("input",t),this.$emit("change",t)}},methods:{format:function(t){return t=String(t).replace(/[^0-9.-]/g,""),""===t?0:this.integer?Math.floor(t):+t},range:function(t){return Math.max(Math.min(this.max,this.format(t)),this.min)},onInput:function(t){var e=t.target.value,i=this.format(e);this.asyncChange?(t.target.value=this.currentValue,this.$emit("input",i),this.$emit("change",i)):(+e!==i&&(t.target.value=i),this.currentValue=i)},onChange:function(){var t=this.type;if(this[t+"Disabled"])this.$emit("overlimit",t);else{var e="minus"===t?-this.step:+this.step,i=Math.round(100*(this.currentValue+e))/100;this.asyncChange?(this.$emit("input",i),this.$emit("change",i)):this.currentValue=this.range(i),this.$emit(t)}},onFocus:function(t){this.$emit("focus",t)},onBlur:function(t){this.currentValue=this.range(this.currentValue),this.$emit("blur",t),0===this.currentValue&&(t.target.value=this.currentValue),Object(mt["a"])()&&Object(C["e"])(Object(C["b"])())},longPressStep:function(){var t=this;this.longPressTimer=setTimeout(function(){t.onChange(t.type),t.longPressStep(t.type)},St)},onTouchStart:function(t){var e=this;clearTimeout(this.longPressTimer),this.isLongPress=!1,this.longPressTimer=setTimeout(function(){e.isLongPress=!0,e.onChange(),e.longPressStep()},kt)},onTouchEnd:function(t){clearTimeout(this.longPressTimer),this.isLongPress&&t.preventDefault()}},render:function(t){var e=this,i=function(t){return{on:{click:function(){e.type=t,e.onChange()},touchstart:function(){e.type=t,e.onTouchStart(t)},touchend:e.onTouchEnd,touchcancel:e.onTouchEnd}}};return t("div",{class:bt()},[t("button",X()([{style:this.buttonStyle,class:bt("minus",{disabled:this.minusDisabled})},i("minus")])),t("input",{attrs:{type:"number",role:"spinbutton","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.currentValue,disabled:this.disabled||this.disableInput},class:bt("input"),domProps:{value:this.currentValue},style:this.inputStyle,on:{input:this.onInput,focus:this.onFocus,blur:this.onBlur}}),t("button",X()([{style:this.buttonStyle,class:bt("plus",{disabled:this.plusDisabled})},i("plus")]))])}}),xt=Object(h["a"])("sku-stepper"),Ct=xt[0],Ot=nt.QUOTA_LIMIT,wt=nt.STOCK_LIMIT,Tt=Ct({props:{hideStock:Boolean,selectedSku:Object,skuEventBus:Object,skuStockNum:Number,selectedNum:Number,stepperTitle:String,hideQuotaText:Boolean,selectedSkuComb:Object,disableStepperInput:Boolean,customStepperConfig:Object,quota:{type:Number,default:0},quotaUsed:{type:Number,default:0}},data:function(){return{currentNum:this.selectedNum,limitType:wt}},watch:{currentNum:function(t){this.skuEventBus.$emit("sku:numChange",t)},stepperLimit:function(t){t<this.currentNum&&(this.currentNum=t)}},computed:{stock:function(){var t=this.customStepperConfig.stockNum;return void 0!==t?t:this.selectedSkuComb?this.selectedSkuComb.stock_num:this.skuStockNum},stockText:function(){var t=this.customStepperConfig.stockFormatter;return t?t(this.stock):"剩余"+this.stock+"件"},quotaText:function(){var t=this.customStepperConfig,e=t.quotaText,i=t.hideQuotaText;if(i)return"";var n="";return e?n=e:this.quota>0&&(n="每人限购"+this.quota+"件"),n},stepperLimit:function(){var t,e=this.quota-this.quotaUsed;return this.quota>0&&e<=this.stock?(t=e<0?0:e,this.limitType=Ot):(t=this.stock,this.limitType=wt),t}},methods:{setCurrentNum:function(t){this.currentNum=t},onOverLimit:function(t){this.skuEventBus.$emit("sku:overLimit",{action:t,limitType:this.limitType,quota:this.quota,quotaUsed:this.quotaUsed})},onChange:function(t){var e=this.customStepperConfig.handleStepperChange;e&&e(t),this.$emit("change",t)}},render:function(t){var e=this;return t("div",{class:"van-sku-stepper-stock"},[t("div",{class:"van-sku-stepper-container"},[t("div",{class:"van-sku__stepper-title"},[this.stepperTitle||"购买数量","："]),t(yt,{class:"van-sku__stepper",attrs:{max:this.stepperLimit,disableInput:this.disableStepperInput},on:{overlimit:this.onOverLimit,change:this.onChange},model:{value:e.currentNum,callback:function(t){e.currentNum=t}}})]),!this.hideStock&&t("div",{class:"van-sku__stock"},[this.stockText]),!this.hideQuotaText&&this.quotaText&&t("div",{class:"van-sku__quota"},[this.quotaText])])}}),jt=i("7744"),Ft=i("34e9"),$t=i("565f");function It(t){var e=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;return e.test(t)}var Nt=i("90c6"),Bt=i("543e");function _t(t){return Array.isArray(t)?t:[t]}function Lt(t,e){return new Promise(function(i){var n=new FileReader;n.onload=function(t){i(t.target.result)},"dataUrl"===e?n.readAsDataURL(t):"text"===e&&n.readAsText(t)})}function Mt(t,e){return _t(t).some(function(t){return t.size>e})}function Et(t){return 0===t.indexOf("data:image")}var Dt=i("44bf"),zt=Object(h["a"])("uploader"),At=zt[0],Pt=zt[1],Vt=At({inheritAttrs:!1,model:{prop:"fileList"},props:{disabled:Boolean,uploadText:String,afterRead:Function,beforeRead:Function,previewSize:[Number,String],name:{type:[Number,String],default:""},accept:{type:String,default:"image/*"},fileList:{type:Array,default:function(){return[]}},maxSize:{type:Number,default:Number.MAX_VALUE},maxCount:{type:Number,default:Number.MAX_VALUE},previewImage:{type:Boolean,default:!0},resultType:{type:String,default:"dataUrl"}},computed:{detail:function(){return{name:this.name}}},methods:{onChange:function(t){var e=this,i=t.target.files;if(!this.disabled&&i.length){if(i=1===i.length?i[0]:[].slice.call(i),this.beforeRead){var n=this.beforeRead(i,this.detail);if(!n)return void this.resetInput();if(n.then)return void n.then(function(){e.readFile(i)}).catch(this.resetInput)}this.readFile(i)}},readFile:function(t){var e=this,i=Mt(t,this.maxSize);if(Array.isArray(t)){var n=this.maxCount-this.fileList.length;t.length>n&&(t=t.slice(0,n)),Promise.all(t.map(function(t){return Lt(t,e.resultType)})).then(function(n){var s=t.map(function(t,e){return{file:t,content:n[e]}});e.onAfterRead(s,i)})}else Lt(t,this.resultType).then(function(n){e.onAfterRead({file:t,content:n},i)})},onAfterRead:function(t,e){e?this.$emit("oversize",t,this.detail):(this.resetInput(),this.$emit("input",[].concat(this.fileList,_t(t))),this.afterRead&&this.afterRead(t,this.detail))},onDelete:function(t,e){var i=this.fileList.slice(0);i.splice(e,1),this.$emit("input",i),this.$emit("delete",t)},resetInput:function(){this.$refs.input&&(this.$refs.input.value="")},onPreviewImage:function(t){var e=this.fileList.map(function(t){return t.content}).filter(function(t){return Et(t)});Object(o["a"])({images:e,startPosition:e.indexOf(t.content)})},renderPreview:function(){var t=this,e=this.$createElement;if(this.previewImage)return this.fileList.map(function(i,n){return e("div",{class:Pt("preview")},[e(Dt["a"],{attrs:{fit:"cover",src:i.content,width:t.previewSize,height:t.previewSize},class:Pt("preview-image"),scopedSlots:{error:function(){return[e(u["a"],{class:Pt("file-icon"),attrs:{name:"description"}}),e("div",{class:[Pt("file-name"),"van-ellipsis"]},[i.file.name])]}},on:{click:function(){Et(i.content)&&t.onPreviewImage(i)}}}),e(u["a"],{attrs:{name:"delete"},class:Pt("preview-delete"),on:{click:function(){t.onDelete(i,n)}}})])})},renderUpload:function(){var t=this.$createElement;if(!(this.fileList.length>=this.maxCount)){var e,i=this.slots(),n=t("input",{attrs:Object(T["a"])({},this.$attrs,{type:"file",accept:this.accept,disabled:this.disabled}),ref:"input",class:Pt("input"),on:{change:this.onChange}});if(i)return t("div",{class:Pt("input-wrapper")},[i,n]);if(this.previewSize){var s=Object(b["a"])(this.previewSize);e={width:s,height:s}}return t("div",{class:Pt("upload"),style:e},[t(u["a"],{attrs:{name:"plus"},class:Pt("upload-icon")}),this.uploadText&&t("span",{class:Pt("upload-text")},[this.uploadText]),n])}}},render:function(t){return t("div",{class:Pt()},[t("div",{class:Pt("wrapper")},[this.renderPreview(),this.renderUpload()])])}}),qt=Object(h["a"])("sku-img-uploader"),Rt=qt[0],Xt=qt[1],Ut=Rt({props:{value:String,uploadImg:Function,maxSize:{type:Number,default:6}},data:function(){return{paddingImg:""}},computed:{imgList:function(){return this.value&&!this.paddingImg?[this.value]:[]}},methods:{afterReadFile:function(t){var e=this;this.paddingImg=t.content,this.uploadImg(t.file,t.content).then(function(t){e.$emit("input",t),e.$nextTick(function(){e.paddingImg=""})}).catch(function(){e.paddingImg=""})},onOversize:function(){this.$toast("最大可上传图片为"+this.maxSize+"MB，请尝试压缩图片尺寸")}},render:function(t){var e=this,i=this.imgList,n=this.paddingImg,s=(n||i.length>0)&&t("div",{class:"van-clearfix"},[i.map(function(i){return t("div",{class:Xt("img")},[t("img",{attrs:{src:i}}),t(u["a"],{attrs:{name:"clear"},class:Xt("delete"),on:{click:function(){e.$emit("input","")}}})])}),n&&t("div",{class:Xt("img")},[t("img",{attrs:{src:n}}),t(Bt["a"],{attrs:{type:"spinner"},class:Xt("uploading")})])]);return t("div",{class:Xt()},[t(Vt,{attrs:{disabled:!!n,afterRead:this.afterReadFile,maxSize:1024*this.maxSize*1024},on:{oversize:this.onOversize}},[t("div",{class:Xt("header")},[n?t("div",["正在上传..."]):[t(u["a"],{attrs:{name:"photograph"}}),t("span",{class:"label"},[this.value?"重拍":"拍照"," 或 "]),t(u["a"],{attrs:{name:"photo"}}),t("span",{class:"label"},[this.value?"重新选择照片":"选择照片"])]])]),s])}}),Ht=Object(h["a"])("sku-messages"),Yt=Ht[0],Wt=Ht[1],Kt={id_no:"输入身份证号码",text:"输入文本",tel:"输入数字",email:"输入邮箱",date:"点击选择日期",time:"点击选择时间",textarea:"点击填写段落文本",mobile:"输入手机号码"},Zt=Yt({props:{messages:Array,messageConfig:Object,goodsId:[Number,String]},data:function(){return{messageValues:this.resetMessageValues(this.messages)}},watch:{messages:function(t){this.messageValues=this.resetMessageValues(t)}},methods:{resetMessageValues:function(t){return(t||[]).map(function(){return{value:""}})},getType:function(t){return 1===+t.multiple?"textarea":"id_no"===t.type?"text":t.datetime>0?"datetime-local":t.type},getMessages:function(){var t=this,e={};return this.messageValues.forEach(function(i,n){var s=i.value;t.messages[n].datetime>0&&(s=s.replace(/T/g," ")),e["message_"+n]=s}),e},getCartMessages:function(){var t=this,e={};return this.messageValues.forEach(function(i,n){var s=i.value,a=t.messages[n];a.datetime>0&&(s=s.replace(/T/g," ")),e[a.name]=s}),e},getPlaceholder:function(t){var e=1===+t.multiple?"textarea":t.type,i=this.messageConfig.placeholderMap||{};return t.placeholder||i[e]||Kt[e]},validateMessages:function(){for(var t=this.messageValues,e=0;e<t.length;e++){var i=t[e].value,n=this.messages[e];if(""===i){if("1"===String(n.required)){var s="image"===n.type?"请上传":"请填写";return s+n.name}}else{if("tel"===n.type&&!Object(Nt["a"])(i))return"请填写正确的数字格式留言";if("mobile"===n.type&&!/^\d{6,20}$/.test(i))return"手机号长度为6-20位数字";if("email"===n.type&&!It(i))return"请填写正确的邮箱";if("id_no"===n.type&&(i.length<15||i.length>18))return"请填写正确的身份证号码"}}}},render:function(t){var e=this;return t(Ft["a"],{class:Wt()},[this.messages.map(function(i,n){return"image"===i.type?t(jt["a"],{class:Wt("image-cell"),attrs:{label:"仅限一张",title:i.name,required:"1"===String(i.required)},key:e.goodsId+"-"+n},[t(Ut,{attrs:{uploadImg:e.messageConfig.uploadImg,maxSize:e.messageConfig.uploadMaxSize},model:{value:e.messageValues[n].value,callback:function(t){e.messageValues[n].value=t}}})]):t($t["a"],{attrs:{maxlength:"200",label:i.name,required:"1"===String(i.required),placeholder:e.getPlaceholder(i),type:e.getType(i)},key:e.goodsId+"-"+n,model:{value:e.messageValues[n].value,callback:function(t){e.messageValues[n].value=t}}})})])}}),Gt=i("b650"),Qt=Object(h["a"])("sku-actions"),Jt=Qt[0],te=Qt[1];function ee(t,e,i,n){var s=function(t){return function(){e.skuEventBus.$emit(t)}};return t("div",X()([{class:te()},Object(U["b"])(n)]),[e.showAddCartBtn&&t(Gt["a"],{attrs:{square:!0,size:"large",type:"warning",text:e.addCartText||"加入购物车"},on:{click:s("sku:addCart")}}),t(Gt["a"],{attrs:{square:!0,size:"large",type:"danger",text:e.buyText||"立即购买"},on:{click:s("sku:buy")}})])}ee.props={buyText:String,addCartText:String,skuEventBus:Object,showAddCartBtn:Boolean};var ie=Jt(ee),ne=Object(h["a"])("sku"),se=ne[0],ae=nt.QUOTA_LIMIT,oe=se({props:{sku:Object,goods:Object,value:Boolean,buyText:String,goodsId:[Number,String],hideStock:Boolean,addCartText:String,stepperTitle:String,getContainer:Function,hideQuotaText:Boolean,resetStepperOnHide:Boolean,customSkuValidator:Function,closeOnClickOverlay:Boolean,disableStepperInput:Boolean,resetSelectedSkuOnHide:Boolean,quota:{type:Number,default:0},quotaUsed:{type:Number,default:0},initialSku:{type:Object,default:function(){return{}}},showSoldoutSku:{type:Boolean,default:!0},showAddCartBtn:{type:Boolean,default:!0},bodyOffsetTop:{type:Number,default:200},messageConfig:{type:Object,default:function(){return{placeholderMap:{},uploadImg:function(){return Promise.resolve()},uploadMaxSize:5}}},customStepperConfig:{type:Object,default:function(){return{}}}},data:function(){return{selectedSku:{},selectedNum:1,show:this.value}},watch:{show:function(t){if(this.$emit("input",t),!t){var e=ct(this.sku.tree,this.selectedSku);this.$emit("sku-close",{selectedSkuValues:e,selectedNum:this.selectedNum,selectedSkuComb:this.selectedSkuComb}),this.resetStepperOnHide&&this.resetStepper(),this.resetSelectedSkuOnHide&&this.resetSelectedSku(this.skuTree)}},value:function(t){this.show=t},skuTree:function(t){this.resetSelectedSku(t)}},computed:{skuGroupClass:function(){return["van-sku-group-container","van-hairline--bottom",{"van-sku-group-container--hide-soldout":!this.showSoldoutSku}]},bodyStyle:function(){if(!this.$isServer){var t=window.innerHeight-this.bodyOffsetTop;return{maxHeight:t+"px"}}},isSkuCombSelected:function(){return rt(this.sku.tree,this.selectedSku)},isSkuEmpty:function(){return 0===Object.keys(this.sku).length},hasSku:function(){return!this.sku.none_sku},selectedSkuComb:function(){return this.hasSku?this.isSkuCombSelected?ut(this.sku.list,this.selectedSku):null:{id:this.sku.collection_id,price:Math.round(100*this.sku.price),stock_num:this.sku.stock_num}},price:function(){return this.selectedSkuComb?(this.selectedSkuComb.price/100).toFixed(2):this.sku.price},skuTree:function(){return this.sku.tree||[]},imageList:function(){var t=[this.goods.picture];if(this.skuTree.length>0){var e=this.skuTree.filter(function(t){return"s1"===t.k_s})[0]||{};if(!e.v)return t;e.v.forEach(function(e){var i=e.imgUrl||e.img_url;i&&t.push(i)})}return t}},created:function(){var t=new D["a"];this.skuEventBus=t,t.$on("sku:close",this.onClose),t.$on("sku:select",this.onSelect),t.$on("sku:numChange",this.onNumChange),t.$on("sku:previewImage",this.onPreviewImage),t.$on("sku:overLimit",this.onOverLimit),t.$on("sku:addCart",this.onAddCart),t.$on("sku:buy",this.onBuy),this.resetStepper(),this.resetSelectedSku(this.skuTree),this.$emit("after-sku-create",t)},methods:{resetStepper:function(){var t=this.$refs.skuStepper,e=this.initialSku.selectedNum,i=Object(g["b"])(e)?e:1;t?t.setCurrentNum(i):this.selectedNum=i},resetSelectedSku:function(t){var e=this;this.selectedSku={},t.forEach(function(t){e.selectedSku[t.k_s]=e.initialSku[t.k_s]||st}),t.forEach(function(t){var i=t.k_s,n=t.v[0].id;1===t.v.length&&lt(e.sku.list,e.selectedSku,{key:i,valueId:n})&&(e.selectedSku[i]=n)})},getSkuMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.getMessages():{}},getSkuCartMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.getCartMessages():{}},validateSkuMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.validateMessages():""},validateSku:function(){if(0===this.selectedNum)return"商品已经无法购买啦";if(this.isSkuCombSelected)return this.validateSkuMessages();if(this.customSkuValidator){var t=this.customSkuValidator(this);if(t)return t}return"请先选择商品规格"},onClose:function(){this.show=!1},onSelect:function(t){var e,i;this.selectedSku=this.selectedSku[t.skuKeyStr]===t.id?Object(T["a"])({},this.selectedSku,(e={},e[t.skuKeyStr]=st,e)):Object(T["a"])({},this.selectedSku,(i={},i[t.skuKeyStr]=t.id,i)),this.$emit("sku-selected",{skuValue:t,selectedSku:this.selectedSku,selectedSkuComb:this.selectedSkuComb})},onNumChange:function(t){this.selectedNum=t},onPreviewImage:function(t){var e=this,i=this.imageList.findIndex(function(e){return e===t}),n={index:i,imageList:this.imageList,indexImage:t};this.$emit("open-preview",n),Object(o["a"])({images:this.imageList,startPosition:i,onClose:function(){e.$emit("close-preview",n)}})},onOverLimit:function(t){var e=t.action,i=t.limitType,n=t.quota,s=t.quotaUsed,a=this.customStepperConfig.handleOverLimit;if(a)a(t);else if("minus"===e)Object(r["a"])("至少选择一件");else if("plus"===e)if(i===ae){var o="限购"+n+"件";s>0&&(o+="，你已购买"+s+"件"),Object(r["a"])(o)}else Object(r["a"])("库存不足")},onAddCart:function(){this.onBuyOrAddCart("add-cart")},onBuy:function(){this.onBuyOrAddCart("buy-clicked")},onBuyOrAddCart:function(t){var e=this.validateSku();e?Object(r["a"])(e):this.$emit(t,this.getSkuData())},getSkuData:function(){return{goodsId:this.goodsId,selectedNum:this.selectedNum,selectedSkuComb:this.selectedSkuComb,messages:this.getSkuMessages(),cartMessages:this.getSkuCartMessages()}}},render:function(t){var e=this;if(!this.isSkuEmpty){var i=this.sku,n=this.goods,s=this.price,a=this.skuEventBus,o=this.selectedSku,r=this.selectedNum,u=this.stepperTitle,c=this.hideQuotaText,l=this.selectedSkuComb,h={price:s,selectedNum:r,skuEventBus:a,selectedSku:o,selectedSkuComb:l},d=function(t){return e.slots(t,h)},f=d("sku-header")||t(G,{attrs:{sku:i,goods:n,skuEventBus:a,selectedSku:o}},[d("sku-header-price")||t("div",{class:"van-sku__goods-price"},[t("span",{class:"van-sku__price-symbol"},["￥"]),t("span",{class:"van-sku__price-num"},[s])])]),p=d("sku-group")||this.hasSku&&t("div",{class:this.skuGroupClass},[this.skuTree.map(function(e){return t(it,{attrs:{skuRow:e}},[e.v.map(function(n){return t(pt,{attrs:{skuList:i.list,skuValue:n,selectedSku:o,skuEventBus:a,skuKeyStr:e.k_s}})})])})]),m=d("sku-stepper")||t(Tt,{ref:"skuStepper",attrs:{quota:this.quota,hideStock:this.hideStock,quotaUsed:this.quotaUsed,skuEventBus:a,selectedNum:r,selectedSku:o,stepperTitle:u,skuStockNum:i.stock_num,hideQuotaText:c,selectedSkuComb:l,disableStepperInput:this.disableStepperInput,customStepperConfig:this.customStepperConfig},on:{change:function(t){e.$emit("stepper-change",t)}}}),v=d("sku-messages")||t(Zt,{ref:"skuMessages",attrs:{goodsId:this.goodsId,messageConfig:this.messageConfig,messages:i.messages}}),g=d("sku-actions")||t(ie,{attrs:{buyText:this.buyText,skuEventBus:a,addCartText:this.addCartText,showAddCartBtn:this.showAddCartBtn}});return t(q,{attrs:{position:"bottom",getContainer:this.getContainer,closeOnClickOverlay:this.closeOnClickOverlay},class:"van-sku-container",model:{value:e.show,callback:function(t){e.show=t}}},[f,t("div",{class:"van-sku-body",style:this.bodyStyle},[d("sku-body-top"),p,d("extra-sku-group"),m,v]),g])}}});oe.SkuActions=ie,oe.SkuHeader=G,oe.SkuMessages=Zt,oe.SkuStepper=Tt,oe.SkuRow=it,oe.SkuRowItem=pt,oe.skuHelper=ht,oe.skuConstants=at;var re=oe,ue=(i("5246"),i("6b41")),ce=(i("4cf9"),Object(h["a"])("goods-action")),le=ce[0],he=ce[1];function de(t,e,i,n){return t("div",X()([{class:he({"safe-area-inset-bottom":e.safeAreaInsetBottom})},Object(U["b"])(n,!0)]),[i.default&&i.default()])}de.props={safeAreaInsetBottom:Boolean};var fe=le(de),pe=(i("80ee"),i("48f4")),me=Object(h["a"])("goods-action-icon"),ve=me[0],ge=me[1];function be(t,e,i,n){function s(t){Object(U["a"])(n,"click",t),Object(pe["a"])(n)}return t("div",X()([{attrs:{role:"button",tabindex:"0"},class:ge(),on:{click:s}},Object(U["b"])(n)]),[i.icon?t("div",{class:ge("icon")},[i.icon()]):t(u["a"],{class:[ge("icon"),e.iconClass],attrs:{tag:"div",info:e.info,name:e.icon}}),i.default?i.default():e.text])}be.props=Object(T["a"])({},pe["c"],{text:String,icon:String,info:[Number,String],iconClass:null});var ke=ve(be),Se=(i("1175"),Object(h["a"])("goods-action-button")),ye=Se[0],xe=Se[1];function Ce(t,e,i,n){function s(t){Object(U["a"])(n,"click",t),Object(pe["a"])(n)}return t(Gt["a"],X()([{attrs:{square:!0,size:"large",type:e.type,loading:e.loading,disabled:e.disabled},class:xe(),on:{click:s}},Object(U["b"])(n)]),[i.default?i.default():e.text])}Ce.props=Object(T["a"])({},pe["c"],{type:String,text:String,loading:Boolean,disabled:Boolean});var Oe=ye(Ce),we=i("2f62"),Te=i("1d7c");function je(t,e){var i=Object.keys(t);return Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(t)),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i}function Fe(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?je(i,!0).forEach(function(e){Object(a["a"])(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):je(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}D["a"].use(fe).use(ke).use(Oe),D["a"].use(ue["a"]),D["a"].use(re),D["a"].use(v).use(E),D["a"].use(c["a"]).use(l["a"]),D["a"].use(u["a"]),D["a"].use(r["a"]),D["a"].use(o["a"]);var $e={data:function(){return{goDate:"",id:"",title:"",img:"",intro:"",money:"",writer:"",publishingouse:"",time:"",kind:"",rating:"",activeNames:["0"],show:!1,detaillist:[]}},components:{Detaillist:Te["a"]},computed:Fe({},Object(we["c"])({loginState:"loginState",cartlist:"cartlist"}),{},Object(we["b"])({len:"len"})),methods:{chat:function(){console.log("客服")},goCart:function(){this.$router.push("/cart")},goShop:function(){this.$router.push("/home")},addCart:function(){var t=this.$store.state.loginState;"ok"===t?(r["a"].success("成功加入购物车"),this.goDate.flag=!0,this.goDate.num=1,this.cartlist.push(this.goDate),this.$store.commit("changeCartList",{result:this.cartlist}),console.log(this.cartlist)):this.$router.push("/login")},buy:function(){"ok"===this.loginState?console.log("立即购买"):this.$router.push("/login")},back:function(){this.$router.back()},share:function(){console.log("分享")}},mounted:function(){var t=this,e=this.$route.params.id,i=this.$route.params.id;console.log("id",e),console.log("wid",i),fetch("http://47.100.225.183:8090/book/find?id="+e).then(function(t){return t.json()}).then(function(e){var i=e.data[0];t.goDate=i,t.id=i.id,t.title=i.bookname,t.img=i.img,t.intro=i.intro,t.money=i.money,t.writer=i.writer,t.publishingouse=i.publishingouse,t.time=i.time,t.kind=i.kind,fetch("http://47.100.225.183:8090/book/find?kind="+t.kind,{method:"GET"}).then(function(t){return t.json()}).then(function(e){t.detaillist=e.data})})}},Ie=$e,Ne=(i("63e7"),i("2877")),Be=Object(Ne["a"])(Ie,n,s,!1,null,"b2001c24",null);e["default"]=Be.exports},"85f2":function(t,e,i){t.exports=i("454f")},"8a0b":function(t,e,i){},"8e6e":function(t,e,i){var n=i("5ca1"),s=i("990b"),a=i("6821"),o=i("11e9"),r=i("f1ae");n(n.S,"Object",{getOwnPropertyDescriptors:function(t){var e,i,n=a(t),u=o.f,c=s(n),l={},h=0;while(c.length>h)i=u(n,e=c[h++]),void 0!==i&&r(l,e,i);return l}})},9093:function(t,e,i){var n=i("ce10"),s=i("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,s)}},"990b":function(t,e,i){var n=i("9093"),s=i("2621"),a=i("cb7c"),o=i("7726").Reflect;t.exports=o&&o.ownKeys||function(t){var e=n.f(a(t)),i=s.f;return i?e.concat(i(t)):e}},"9c95":function(t,e,i){},"9ffb":function(t,e,i){"use strict";var n=i("d282"),s=Object(n["a"])("col"),a=s[0],o=s[1];e["a"]=a({props:{span:[Number,String],offset:[Number,String],tag:{type:String,default:"div"}},computed:{gutter:function(){return this.$parent&&Number(this.$parent.gutter)||0},style:function(){var t=this.gutter/2+"px";return this.gutter?{paddingLeft:t,paddingRight:t}:{}}},render:function(t){var e,i=this.span,n=this.offset;return t(this.tag,{class:o((e={},e[i]=i,e["offset-"+n]=n,e)),style:this.style},[this.slots()])}})},ac6a:function(t,e,i){for(var n=i("cadf"),s=i("0d58"),a=i("2aba"),o=i("7726"),r=i("32e9"),u=i("84f2"),c=i("2b4c"),l=c("iterator"),h=c("toStringTag"),d=u.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=s(f),m=0;m<p.length;m++){var v,g=p[m],b=f[g],k=o[g],S=k&&k.prototype;if(S&&(S[l]||r(S,l,d),S[h]||r(S,h,g),u[g]=d,b))for(v in n)S[v]||a(S,v,n[v],!0)}},b258:function(t,e,i){},b650:function(t,e,i){"use strict";var n=i("c31d"),s=i("2638"),a=i.n(s),o=i("d282"),r=i("ba31"),u=i("48f4"),c=i("ad06"),l=i("543e"),h=Object(o["a"])("button"),d=h[0],f=h[1];function p(t,e,i,n){var s=e.tag,o=e.icon,h=e.type,d=e.disabled,p=e.loading,m=e.hairline,v=e.loadingText;function g(t){p||d||(Object(r["a"])(n,"click",t),Object(u["a"])(n))}function b(t){Object(r["a"])(n,"touchstart",t)}var k=[f([h,e.size,{disabled:d,hairline:m,block:e.block,plain:e.plain,round:e.round,square:e.square}]),{"van-hairline--surround":m}];function S(){var n,s=[];return p?s.push(t(l["a"],{class:f("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"default"===h?void 0:""}})):o&&s.push(t(c["a"],{attrs:{name:o},class:f("icon")})),n=p?v:i.default?i.default():e.text,n&&s.push(t("span",{class:f("text")},[n])),s}return t(s,a()([{class:k,attrs:{type:e.nativeType,disabled:d},on:{click:g,touchstart:b}},Object(r["b"])(n)]),[S()])}p.props=Object(n["a"])({},u["c"],{text:String,icon:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}}),e["a"]=d(p)},b807:function(t,e,i){},bcd3:function(t,e,i){},bd86:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i("85f2"),s=i.n(n);function a(t,e,i){return e in t?s()(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},bf60:function(t,e,i){},d10a:function(t,e,i){},d1e1:function(t,e,i){"use strict";var n=i("d282"),s=Object(n["a"])("row"),a=s[0],o=s[1];e["a"]=a({props:{type:String,align:String,justify:String,tag:{type:String,default:"div"},gutter:{type:[Number,String],default:0}},render:function(t){var e,i=this.align,n=this.justify,s="flex"===this.type,a="-"+Number(this.gutter)/2+"px",r=this.gutter?{marginLeft:a,marginRight:a}:{};return t(this.tag,{style:r,class:o((e={flex:s},e["align-"+i]=s&&i,e["justify-"+n]=s&&n,e))},[this.slots()])}})},d399:function(t,e,i){"use strict";var n=i("c31d"),s=i("2b0e"),a=i("d282"),o=i("a142"),r=i("6605"),u=i("ad06"),c=i("543e"),l=Object(a["a"])("toast"),h=l[0],d=l[1],f=h({mixins:[r["a"]],props:{icon:String,className:null,loadingType:String,forbidClick:Boolean,message:[Number,String],type:{type:String,default:"text"},position:{type:String,default:"middle"},lockScroll:{type:Boolean,default:!1}},data:function(){return{clickable:!1}},mounted:function(){this.toggleClickable()},destroyed:function(){this.toggleClickable()},watch:{value:function(){this.toggleClickable()},forbidClick:function(){this.toggleClickable()}},methods:{toggleClickable:function(){var t=this.value&&this.forbidClick;if(this.clickable!==t){this.clickable=t;var e=t?"add":"remove";document.body.classList[e]("van-toast--unclickable")}},onAfterEnter:function(){this.$emit("opened"),this.onOpened&&this.onOpened()},onAfterLeave:function(){this.$emit("closed")}},render:function(t){var e=this.type,i=this.icon,n=this.message,s=this.loadingType,a=i||"success"===e||"fail"===e;function r(){return a?t(u["a"],{class:d("icon"),attrs:{name:i||e}}):"loading"===e?t(c["a"],{class:d("loading"),attrs:{color:"white",type:s}}):void 0}function l(){if(Object(o["b"])(n)&&""!==n)return"html"===e?t("div",{class:d("text"),domProps:{innerHTML:n}}):t("div",{class:d("text")},[n])}return t("transition",{attrs:{name:"van-fade"},on:{afterEnter:this.onAfterEnter,afterLeave:this.onAfterLeave}},[t("div",{directives:[{name:"show",value:this.value}],class:[d([this.position,{text:!a&&"loading"!==e}]),this.className]},[r(),l()])])}}),p={icon:"",type:"text",mask:!1,value:!0,message:"",className:"",onClose:null,onOpened:null,duration:3e3,position:"middle",forbidClick:!1,loadingType:void 0,getContainer:"body",overlayStyle:null},m=[],v=!1,g=Object(n["a"])({},p);function b(t){return Object(o["c"])(t)?t:{message:t}}function k(){if(o["d"])return{};if(!m.length||v){var t=new(s["a"].extend(f))({el:document.createElement("div")});m.push(t)}return m[m.length-1]}function S(t){return t=Object(n["a"])({},t),t.overlay=t.mask,delete t.mask,delete t.duration,t}function y(t){void 0===t&&(t={});var e=k();return e.value&&e.updateZIndex(),t=Object(n["a"])({},g,{},b(t),{clear:function(){e.value=!1,t.onClose&&t.onClose(),v&&!o["d"]&&e.$on("closed",function(){clearTimeout(e.timer),m=m.filter(function(t){return t!==e});var t=e.$el.parentNode;t&&t.removeChild(e.$el),e.$destroy()})}}),Object(n["a"])(e,S(t)),clearTimeout(e.timer),t.duration>0&&(e.timer=setTimeout(function(){e.clear()},t.duration)),e}var x=function(t){return function(e){return y(Object(n["a"])({type:t},b(e)))}};["loading","success","fail"].forEach(function(t){y[t]=x(t)}),y.clear=function(t){m.length&&(t?(m.forEach(function(t){t.clear()}),m=[]):v?m.shift().clear():m[0].clear())},y.setDefaultOptions=function(t){Object(n["a"])(g,t)},y.resetDefaultOptions=function(){g=Object(n["a"])({},p)},y.allowMultiple=function(t){void 0===t&&(t=!0),v=t},y.install=function(){s["a"].use(f)},s["a"].prototype.$toast=y;e["a"]=y},e7e5:function(t,e,i){"use strict";i("68ef"),i("4d75"),i("09fe"),i("b258")},f1ae:function(t,e,i){"use strict";var n=i("86cc"),s=i("4630");t.exports=function(t,e,i){e in t?n.f(t,e,s(0,i)):t[e]=i}},f319:function(t,e,i){},fb6c:function(t,e,i){}}]);
//# sourceMappingURL=chunk-743bb3c9.a5841403.js.map