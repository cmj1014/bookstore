{"version":3,"sources":["webpack:///./src/views/userInfo/index.vue?854c","webpack:///src/views/userInfo/index.vue","webpack:///./src/views/userInfo/index.vue?9613","webpack:///./src/views/userInfo/index.vue","webpack:///./node_modules/core-js/modules/es6.regexp.replace.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","left-arrow","on","click-left","onClickLeft","required","clearable","label","placeholder","error-message","usernameState","model","value","callback","$$v","username","expression","age","tel","sex","city","type","size","block","click","login","_v","staticRenderFns","vue_runtime_esm","use","nav_bar","field","cell","cell_group","es_button","toast","dialog","userInfovue_type_script_lang_js_","data","computed","test","usernameIcon","passwordState","password","length","passwordIcon","methods","$router","back","onClickRight","replace","_this","Object","sms","code","fetch","method","headers","Content-Type","body","then","res","json","$store","commit","confirm","message","push","catch","views_userInfovue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","anObject","__webpack_require__","toObject","toLength","toInteger","advanceStringIndex","regExpExec","max","Math","min","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","it","undefined","String","defined","REPLACE","$replace","maybeCallNative","searchValue","replaceValue","O","fn","call","regexp","done","rx","S","functionalReplace","global","fullUnicode","unicode","lastIndex","results","result","matchStr","accumulatedResult","nextSourcePosition","i","matched","position","index","captures","j","namedCaptures","groups","replacerArgs","concat","replacement","apply","getSubstitution","slice","str","tailPos","m","symbols","match","ch","capture","charAt","n","f"],"mappings":"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","file":"js/chunk-2e7edda6.7cb67ee2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('van-nav-bar',{attrs:{\"title\":\"个人信息\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}}),_c('div',{staticClass:\"content\"},[_c('van-cell-group',[_c('van-field',{attrs:{\"required\":\"\",\"clearable\":\"\",\"label\":\"昵称\",\"placeholder\":\"请输入昵称\",\"error-message\":_vm.usernameState},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('van-field',{attrs:{\"required\":\"\",\"clearable\":\"\",\"label\":\"年龄\",\"placeholder\":\"请输入年龄\",\"error-message\":_vm.usernameState},model:{value:(_vm.age),callback:function ($$v) {_vm.age=$$v},expression:\"age\"}}),_c('van-field',{attrs:{\"required\":\"\",\"clearable\":\"\",\"label\":\"手机号\",\"placeholder\":\"请输入手机号\",\"error-message\":_vm.usernameState},model:{value:(_vm.tel),callback:function ($$v) {_vm.tel=$$v},expression:\"tel\"}}),_c('van-field',{attrs:{\"required\":\"\",\"clearable\":\"\",\"label\":\"性别\",\"placeholder\":\"请输入性别\",\"error-message\":_vm.usernameState},model:{value:(_vm.sex),callback:function ($$v) {_vm.sex=$$v},expression:\"sex\"}}),_c('van-field',{attrs:{\"required\":\"\",\"clearable\":\"\",\"label\":\"城市\",\"placeholder\":\"请输入城市\",\"error-message\":_vm.usernameState},model:{value:(_vm.city),callback:function ($$v) {_vm.city=$$v},expression:\"city\"}})],1),_c('van-button',{attrs:{\"type\":\"primary\",\"size\":\"normal\",\"block\":true},on:{\"click\":_vm.login}},[_vm._v(\"保存信息\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <van-nav-bar title=\"个人信息\" left-arrow @click-left=\"onClickLeft\"  />\r\n    <div class=\"content\">\r\n      <van-cell-group>\r\n        <van-field v-model=\"username\" required clearable label=\"昵称\"  placeholder=\"请输入昵称\"\r\n          :error-message=\"usernameState\" />\r\n<van-field v-model=\"age\" required clearable label=\"年龄\" placeholder=\"请输入年龄\"\r\n          :error-message=\"usernameState\" />\r\n          <van-field v-model=\"tel\" required clearable label=\"手机号\"  placeholder=\"请输入手机号\"\r\n            :error-message=\"usernameState\" />\r\n            <van-field v-model=\"sex\" required clearable label=\"性别\"  placeholder=\"请输入性别\"\r\n              :error-message=\"usernameState\" />\r\n              <van-field v-model=\"city\" required clearable label=\"城市\"  placeholder=\"请输入城市\"\r\n                :error-message=\"usernameState\" />\r\n       <!-- <van-field v-model=\"password\" type=\"password\" label=\"密码\" clearable placeholder=\"请输入密码\" :right-icon=\"passwordIcon\"\r\n          :error-message=\"passwordState\" required /> -->\r\n      </van-cell-group>\r\n      <van-button type=\"primary\" size=\"normal\" @click=\"login\" :block=\"true\">保存信息</van-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Vue from 'vue'\r\n  import {\r\n    NavBar,\r\n    Field,\r\n    Cell,\r\n    CellGroup,\r\n    Button,\r\n    Toast,\r\n    Dialog\r\n  } from 'vant'\r\n\r\n  Vue.use(NavBar)\r\n  Vue.use(Field)\r\n  Vue.use(Cell).use(CellGroup)\r\n  Vue.use(Button)\r\n  Vue.use(Toast)\r\n  Vue.use(Dialog)\r\n  export default {\r\n    data() {\r\n      return {\r\n        /* username: '18895312923',\r\n        password: '123456' */\r\n        username: '',\r\n        age: '',\r\n        tel:'',\r\n        sex:'',\r\n        city:''\r\n      }\r\n    },\r\n    computed: {\r\n      usernameState() {\r\n        if (this.username === '') {\r\n          return ''\r\n        } else if (!(/^1[3456789]\\d{9}$/.test(this.username))) {\r\n          return '手机号码格式错误'\r\n        } else {\r\n          return ''\r\n        }\r\n      },\r\n      usernameIcon() {\r\n        if (this.username === '') {\r\n          return ''\r\n        } else if (/^1[3456789]\\d{9}$/.test(this.username)) {\r\n          return 'checked'\r\n        } else {\r\n          return ''\r\n        }\r\n      },\r\n      passwordState() {\r\n        if (this.password === '') {\r\n          return ''\r\n        } else if (this.password.length < 5) {\r\n          return '密码格式错误'\r\n        } else {\r\n          return ''\r\n        }\r\n      },\r\n      passwordIcon() {\r\n        if (this.password === '') {\r\n          return ''\r\n        } else if (this.password.length >= 5) {\r\n          return 'checked'\r\n        } else {\r\n          return ''\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      onClickLeft() {\r\n        this.$router.back()\r\n      },\r\n      onClickRight() {\r\n        this.$router.replace('/register')\r\n      },\r\n      login() {\r\n        if (this.usernameIcon !== 'checked') {\r\n          Toast('手机号格式错误')\r\n          return null\r\n        }\r\n        if (this.passwordIcon !== 'checked') {\r\n          Toast('密码格式错误')\r\n          return null\r\n        }\r\n        if (this.sms !== this.code) {\r\n          Toast('验证码错误')\r\n          return null\r\n        }\r\n        // 提交数据到服务器\r\n        fetch('/api/users/login', {\r\n          method: 'post',\r\n          headers: { // 看后端接口，数据类型要匹配上，还有json类型的\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          body: 'username=' + this.username + '&password=' + this.password\r\n        }).then(res => res.json()).then(data => {\r\n          //console.log(this)\r\n           let that = this;\r\n          // console.log(that)\r\n          //console.log(\"data\" + typeof(data))\r\n          if (data === 1) {\r\n            Toast('登录成功')\r\n          /*  fetch('https://www.daxunxun.com/users/register', {\r\n              methods: 'post',\r\n              headers: { // 看后端接口，数据类型要匹配上，还有json类型的\r\n                'Content-Type': 'application/x-www-form-urlencoded'\r\n              },\r\n              body: 'username=' + \"18939920572\"\r\n            }).then(res => res.json()).then(data => {\r\n              console.log(data);\r\n              alert(data);\r\n            })\r\n */\r\n            //console.log(\"this.userinfo\",this)\r\n            this.$store.commit('changeLoginState', 'ok')\r\n            this.$store.commit('saveUser', this.username)\r\n            //console.log(this.$store)\r\n            this.$router.back() // 登录成功后会返回上个页面user页面，进入user页面前有路由守卫判断后直接进入个人用户\r\n          } else if (data === 2) {\r\n            Dialog.confirm({\r\n              title: '提示',\r\n              message: '该用户还未注册，是否注册'\r\n            }).then(() => {\r\n              this.$router.push('/register')\r\n            }).catch(() => {})\r\n          } else if (data === -1) {\r\n            Toast('密码错误')\r\n          } else {\r\n            Toast('登录失败')\r\n          }\r\n        })\r\n        /* }).then(data=> {\r\n          console.log(\"55555\")\r\n        }) */\r\n      }\r\n    }\r\n  }\r\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7e4deefc&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\n\nvar anObject = require('./_an-object');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&`']|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&`']|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative($replace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return $replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n"],"sourceRoot":""}